<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    
    <title>Menus and Tool Bars &mdash; Envisage Documentation</title>
    
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/spc-extend.css">
    <link rel="stylesheet" href="../_static/enthought.css" type="text/css" >
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" >
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.9.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        LINK_SUFFIX: '',
        SOURCELINK_SUFFIX: '.txt',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/js/copybutton.js"></script>
    <script type="text/javascript" src="../_static/js/wrap_on_dot.js"></script>
    <link rel="shortcut icon" href="../_static/img/favicon.ico">
    <link rel="index" title="Index" href="../genindex.html" >
    <link rel="search" title="Search" href="../search.html" >
    <link rel="top" title="Envisage Documentation" href="../index.html" >
    <link rel="up" title="Tasks User Manual" href="index.html" >
    <link rel="next" title="Extensibility" href="extensibility.html" >
    <link rel="prev" title="Window Layout" href="layout.html" > 
  </head>
  <body>
  <div class="container">
    <div class="header">
    </div>
  </div>

    <div class="container">
      <div class="main">
        
	<div class="row-fluid">
	  <div class="span12">
	    <div class="spc-navbar">
              
    <ul class="nav nav-pills pull-left">
	
        <li class="active"><a href="../index.html">Envisage Documentation</a></li>
	
          <li class="active"><a href="index.html" accesskey="U">Tasks User Manual</a></li> 
    </ul>
              
              
    <ul class="nav nav-pills pull-right">
      <li class="active">
        <a href="../genindex.html" title="General Index"
           accesskey="I">index</a>
      </li>
      <li class="active">
        <a href="../py-modindex.html" title="Python Module Index"
           >modules</a>
      </li>
      <li class="active">
        <a href="extensibility.html" title="Extensibility"
           accesskey="N">next</a>
      </li>
      <li class="active">
        <a href="layout.html" title="Window Layout"
           accesskey="P">previous</a>
      </li>
    </ul>
              
	    </div>
	  </div>
	</div>
        

	<div class="row-fluid">
          <div class="span9">
            
        <div class="bodywrapper">
          <div class="body" id="spc-section-body" role="main">
            
  <div class="section" id="menus-and-tool-bars">
<span id="menus"></span><h1>Menus and Tool Bars<a class="headerlink" href="#menus-and-tool-bars" title="Permalink to this headline">¶</a></h1>
<p>In addition to specifying a layout of panes, a task can include a menu bar, a
status bar, and any number of tool bars. In this section, we shall see how the
Tasks framework supports these important user interface elements.</p>
<p>It is important to recall that a task is a kind of <em>blueprint</em> for a user
interface. As such, a task can provide blueprints, or <em>schemas</em> as we shall
henceforth call them, for menus and tool bars, but does not itself contain menu
or tool bar controls. This distinction, though perhaps not very useful in the
present section, will take on considerable importance in the subsequent section
on <a class="reference internal" href="extensibility.html#extensibility"><span class="std std-ref">Extensibility</span></a>.</p>
<div class="section" id="defining-a-menu-bar">
<span id="index-0"></span><h2>Defining a Menu Bar<a class="headerlink" href="#defining-a-menu-bar" title="Permalink to this headline">¶</a></h2>
<p id="index-1">Resuming our example of the script editing task from the previous section, we
shall define some menu items for opening and saving files. As in Traits UI and
Pyface, individual menu items are instances of the <code class="docutils literal notranslate"><span class="pre">Action</span></code> class <a class="footnote-reference brackets" href="#id2" id="id1">1</a>. We
might define the ‘Open’ action as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.action.api</span> <span class="k">import</span> <span class="n">Action</span>

<span class="k">class</span> <span class="nc">OpenAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Open&#39;</span>
    <span class="n">accelerator</span> <span class="o">=</span> <span class="s1">&#39;Ctrl+O&#39;</span>

    <span class="k">def</span> <span class="nf">perform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">event</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</pre></div>
</div>
<p>Of course, we must also implement the <code class="docutils literal notranslate"><span class="pre">open()</span></code> method on our task:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.api</span> <span class="k">import</span> <span class="n">FileDialog</span><span class="p">,</span> <span class="n">OK</span>

<span class="k">class</span> <span class="nc">ExampleTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>

    <span class="p">[</span> <span class="o">...</span> <span class="p">]</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Shows a dialog to open a file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dialog</span> <span class="o">=</span> <span class="n">FileDialog</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">control</span><span class="p">,</span> <span class="n">wildcard</span><span class="o">=</span><span class="s1">&#39;*.py&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dialog</span><span class="o">.</span><span class="n">open</span><span class="p">()</span> <span class="o">==</span> <span class="n">OK</span><span class="p">:</span>
            <span class="c1"># Recall that &#39;open_file&#39; was defined in the previous section.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">open_file</span><span class="p">(</span><span class="n">dialog</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p id="index-2">Now let us suppose that we have similarly implemented a <code class="docutils literal notranslate"><span class="pre">SaveAction</span></code> and a
<code class="docutils literal notranslate"><span class="pre">save()</span></code> method on our task. We would like to add these actions to a menu
bar. Tasks provides several <code class="docutils literal notranslate"><span class="pre">Schema</span></code> classes for this purpose:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">MenuBarSchema</span></code></dt>
<dd class="field-odd"><p>The root of a menu hierarchy. Contains some number of menu
schemas.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">MenuSchema</span></code></dt>
<dd class="field-even"><p>A menu or sub-menu in the menu hierarchy.</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">GroupSchema</span></code></dt>
<dd class="field-odd"><p>A group of menu items that are logically related and that
may or may not require separators from other groups.</p>
</dd>
</dl>
<p>For convenience, these classes also have the abbreviated names <code class="docutils literal notranslate"><span class="pre">SMenuBar</span></code>,
<code class="docutils literal notranslate"><span class="pre">SMenu</span></code>, and <code class="docutils literal notranslate"><span class="pre">SGroup</span></code>, respectively. We can implement the menu bar for our
task using these abbreviations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.tasks.action.api</span> <span class="k">import</span> <span class="n">SMenu</span><span class="p">,</span> <span class="n">SMenuBar</span>

<span class="k">class</span> <span class="nc">ExampleTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>

    <span class="p">[</span> <span class="o">...</span> <span class="p">]</span>

    <span class="n">menu_bar</span> <span class="o">=</span> <span class="n">SMenuBar</span><span class="p">(</span><span class="n">SMenu</span><span class="p">(</span><span class="n">OpenAction</span><span class="p">(),</span> <span class="n">SaveAction</span><span class="p">(),</span>
                              <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;File&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&amp;File&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p id="index-3">The pattern of having an <code class="docutils literal notranslate"><span class="pre">Action</span></code> instance call back to its task is so common
that there is a predefined class for this purpose. We can use this
<code class="docutils literal notranslate"><span class="pre">TaskAction</span></code> class to implement the above menu more simply, without having to
define separately the <code class="docutils literal notranslate"><span class="pre">OpenAction</span></code> and <code class="docutils literal notranslate"><span class="pre">SaveAction</span></code> classes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.tasks.action.api</span> <span class="k">import</span> <span class="n">SMenu</span><span class="p">,</span> <span class="n">SMenuBar</span><span class="p">,</span> <span class="n">TaskAction</span>

<span class="k">class</span> <span class="nc">ExampleTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>

    <span class="p">[</span> <span class="o">...</span> <span class="p">]</span>

    <span class="n">menu_bar</span> <span class="o">=</span> <span class="n">SMenuBar</span><span class="p">(</span><span class="n">SMenu</span><span class="p">(</span><span class="n">TaskAction</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Open...&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;open&#39;</span><span class="p">,</span>
                                         <span class="n">accelerator</span><span class="o">=</span><span class="s1">&#39;Ctrl+O&#39;</span><span class="p">),</span>
                              <span class="n">TaskAction</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Save&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;save&#39;</span><span class="p">,</span>
                                         <span class="n">accelerator</span><span class="o">=</span><span class="s1">&#39;Ctrl+S&#39;</span><span class="p">),</span>
                              <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;File&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&amp;File&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="defining-a-tool-bar">
<span id="index-4"></span><h2>Defining a Tool Bar<a class="headerlink" href="#defining-a-tool-bar" title="Permalink to this headline">¶</a></h2>
<p id="index-5">Like a menu bar, a tool bar uses the <code class="docutils literal notranslate"><span class="pre">Action</span></code> class to represent individual
items. A tool bar, however, is defined with a different set of schemas:</p>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">ToolBarSchema</span></code></dt>
<dd class="field-odd"><p>The root of a tool bar hierarchy. Contains some number of
group schemas and actions.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">GroupSchema</span></code></dt>
<dd class="field-even"><p>A group of tool bar buttons that are logically related and
that may or may not require separators from other groups.</p>
</dd>
</dl>
<p>As above, these classes are often abbreviated as <code class="docutils literal notranslate"><span class="pre">SToolBar</span></code> and <code class="docutils literal notranslate"><span class="pre">SGroup</span></code>,
respectively. Let us now add a tool bar with buttons for opening and saving
files to our script editing task:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.api</span> <span class="k">import</span> <span class="n">ImageResource</span>
<span class="kn">from</span> <span class="nn">pyface.tasks.action.api</span> <span class="k">import</span> <span class="n">SToolBar</span><span class="p">,</span> <span class="n">TaskAction</span>

<span class="k">class</span> <span class="nc">ExampleTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>

    <span class="p">[</span> <span class="o">...</span> <span class="p">]</span>

    <span class="n">tool_bars</span> <span class="o">=</span> <span class="p">[</span> <span class="n">SToolBar</span><span class="p">(</span><span class="n">TaskAction</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;open&#39;</span><span class="p">,</span>
                                      <span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;Open a file&#39;</span><span class="p">,</span>
                                      <span class="n">image</span><span class="o">=</span><span class="n">ImageResource</span><span class="p">(</span><span class="s1">&#39;document_open&#39;</span><span class="p">)),</span>
                           <span class="n">TaskAction</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;save&#39;</span><span class="p">,</span>
                                      <span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;Save the current file&#39;</span><span class="p">,</span>
                                      <span class="n">image</span><span class="o">=</span><span class="n">ImageResource</span><span class="p">(</span><span class="s1">&#39;document_save&#39;</span><span class="p">)))</span> <span class="p">]</span>
</pre></div>
</div>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>The most convenient reference in this case is the <a class="reference external" href="https://github.com/enthought/traitsgui/blob/master/enthought/pyface/action/action.py">source code</a> itself.</p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
          </div>
      <div class="spc-rightsidebar span3">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/img/e-logo.png" alt="Logo">
            </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Menus and Tool Bars</a><ul>
<li><a class="reference internal" href="#defining-a-menu-bar">Defining a Menu Bar</a></li>
<li><a class="reference internal" href="#defining-a-tool-bar">Defining a Tool Bar</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="layout.html"
                        title="previous chapter">Window Layout</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="extensibility.html"
                        title="next chapter">Extensibility</a></p>
  <h3>This Page</h3>
  <div>
    <a href="../_sources/tasks_user_manual/menus.rst.txt"
       rel="nofollow">Show Source</a>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
        </div>
      </div>
    </div>

    <div class="container container-navbar-bottom">
      <div class="spc-navbar">
        
      </div>
    </div>
    <div class="container">
    <div class="footer">
    <div class="row-fluid">
    <ul class="inline pull-left">
      <li>
        &copy; Copyright 2008-2019, Enthought
      </li>
      <li>
      Last updated on Jun 12, 2020.
      </li>
      <li>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.3.1.
      </li>
    </ul>
    </div>
    </div>
    </div>
  </body>
</html>