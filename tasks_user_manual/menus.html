<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Menus and Tool Bars &mdash; Envisage Documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.6.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/et.ico"/>
    <link rel="top" title="Envisage Documentation" href="../index.html" />
    <link rel="up" title="Tasks User Manual" href="index.html" />
    <link rel="next" title="Extensibility" href="extensibility.html" />
    <link rel="prev" title="Window Layout" href="layout.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="menus-and-tool-bars">
<span id="menus"></span><h1>Menus and Tool Bars<a class="headerlink" href="#menus-and-tool-bars" title="Permalink to this headline">¶</a></h1>
<p>In addition to specifying a layout of panes, a task can include a menu bar, a
status bar, and any number of tool bars. In this section, we shall see how the
Tasks framework supports these important user interface elements.</p>
<p>It is important to recall that a task is a kind of <em>blueprint</em> for a user
interface. As such, a task can provide blueprints, or <em>schemas</em> as we shall
henceforth call them, for menus and tool bars, but does not itself contain menu
or tool bar controls. This distinction, though perhaps not very useful in the
present section, will take on considerable importance in the subsequent section
on <a class="reference internal" href="extensibility.html#extensibility"><span class="std std-ref">Extensibility</span></a>.</p>
<div class="section" id="defining-a-menu-bar">
<span id="index-0"></span><h2>Defining a Menu Bar<a class="headerlink" href="#defining-a-menu-bar" title="Permalink to this headline">¶</a></h2>
<p id="index-1">Resuming our example of the script editing task from the previous section, we
shall define some menu items for opening and saving files. As in Traits UI and
PyFace, individual menu items are instances of the <code class="docutils literal"><span class="pre">Action</span></code> class <a class="footnote-reference" href="#id2" id="id1">[1]</a>. We
might define the &#8216;Open&#8217; action as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.action.api</span> <span class="k">import</span> <span class="n">Action</span>

<span class="k">class</span> <span class="nc">OpenAction</span><span class="p">(</span><span class="n">Action</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Open&#39;</span>
    <span class="n">accelerator</span> <span class="o">=</span> <span class="s1">&#39;Ctrl+O&#39;</span>

    <span class="k">def</span> <span class="nf">perform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="n">event</span><span class="o">.</span><span class="n">task</span><span class="o">.</span><span class="n">open</span><span class="p">()</span>
</pre></div>
</div>
<p>Of course, we must also implement the <code class="docutils literal"><span class="pre">open()</span></code> method on our task:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.api</span> <span class="k">import</span> <span class="n">FileDialog</span><span class="p">,</span> <span class="n">OK</span>

<span class="k">class</span> <span class="nc">ExampleTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>

    <span class="p">[</span> <span class="o">...</span> <span class="p">]</span>

    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Shows a dialog to open a file.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">dialog</span> <span class="o">=</span> <span class="n">FileDialog</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">control</span><span class="p">,</span> <span class="n">wildcard</span><span class="o">=</span><span class="s1">&#39;*.py&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dialog</span><span class="o">.</span><span class="n">open</span><span class="p">()</span> <span class="o">==</span> <span class="n">OK</span><span class="p">:</span>
            <span class="c1"># Recall that &#39;open_file&#39; was defined in the previous section.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">open_file</span><span class="p">(</span><span class="n">dialog</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
</pre></div>
</div>
<p id="index-2">Now let us suppose that we have similarly implemented a <code class="docutils literal"><span class="pre">SaveAction</span></code> and a
<code class="docutils literal"><span class="pre">save()</span></code> method on our task. We would like to add these actions to a menu
bar. Tasks provides several <code class="docutils literal"><span class="pre">Schema</span></code> classes for this purpose:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name"><code class="docutils literal"><span class="pre">MenuBarSchema</span></code>:</th><td class="field-body">The root of a menu hierarchy. Contains some number of menu
schemas.</td>
</tr>
<tr class="field-even field"><th class="field-name"><code class="docutils literal"><span class="pre">MenuSchema</span></code>:</th><td class="field-body">A menu or sub-menu in the menu hierarchy.</td>
</tr>
<tr class="field-odd field"><th class="field-name"><code class="docutils literal"><span class="pre">GroupSchema</span></code>:</th><td class="field-body">A group of menu items that are logically related and that
may or may not require separators from other groups.</td>
</tr>
</tbody>
</table>
<p>For convenience, these classes also have the abbreviated names <code class="docutils literal"><span class="pre">SMenuBar</span></code>,
<code class="docutils literal"><span class="pre">SMenu</span></code>, and <code class="docutils literal"><span class="pre">SGroup</span></code>, respectively. We can implement the menu bar for our
task using these abbreviations:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.tasks.action.api</span> <span class="k">import</span> <span class="n">SMenu</span><span class="p">,</span> <span class="n">SMenuBar</span>

<span class="k">class</span> <span class="nc">ExampleTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>

    <span class="p">[</span> <span class="o">...</span> <span class="p">]</span>

    <span class="n">menu_bar</span> <span class="o">=</span> <span class="n">SMenuBar</span><span class="p">(</span><span class="n">SMenu</span><span class="p">(</span><span class="n">OpenAction</span><span class="p">(),</span> <span class="n">SaveAction</span><span class="p">(),</span>
                              <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;File&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&amp;File&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p id="index-3">The pattern of having an <code class="docutils literal"><span class="pre">Action</span></code> instance call back to its task is so common
that there is a predefined class for this purpose. We can use this
<code class="docutils literal"><span class="pre">TaskAction</span></code> class to implement the above menu more simply, without having to
define separately the <code class="docutils literal"><span class="pre">OpenAction</span></code> and <code class="docutils literal"><span class="pre">SaveAction</span></code> classes:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.tasks.action.api</span> <span class="k">import</span> <span class="n">SMenu</span><span class="p">,</span> <span class="n">SMenuBar</span><span class="p">,</span> <span class="n">TaskAction</span>

<span class="k">class</span> <span class="nc">ExampleTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>

    <span class="p">[</span> <span class="o">...</span> <span class="p">]</span>

    <span class="n">menu_bar</span> <span class="o">=</span> <span class="n">SMenuBar</span><span class="p">(</span><span class="n">SMenu</span><span class="p">(</span><span class="n">TaskAction</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Open...&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;open&#39;</span><span class="p">,</span>
                                         <span class="n">accelerator</span><span class="o">=</span><span class="s1">&#39;Ctrl+O&#39;</span><span class="p">),</span>
                              <span class="n">TaskAction</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Save&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;save&#39;</span><span class="p">,</span>
                                         <span class="n">accelerator</span><span class="o">=</span><span class="s1">&#39;Ctrl+S&#39;</span><span class="p">),</span>
                              <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;File&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;&amp;File&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="defining-a-tool-bar">
<span id="index-4"></span><h2>Defining a Tool Bar<a class="headerlink" href="#defining-a-tool-bar" title="Permalink to this headline">¶</a></h2>
<p id="index-5">Like a menu bar, a tool bar uses the <code class="docutils literal"><span class="pre">Action</span></code> class to represent individual
items. A tool bar, however, is defined with a different set of schemas:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name"><code class="docutils literal"><span class="pre">ToolBarSchema</span></code>:</th><td class="field-body">The root of a tool bar hierarchy. Contains some number of
group schemas and actions.</td>
</tr>
<tr class="field-even field"><th class="field-name"><code class="docutils literal"><span class="pre">GroupSchema</span></code>:</th><td class="field-body">A group of tool bar buttons that are logically related and
that may or may not require separators from other groups.</td>
</tr>
</tbody>
</table>
<p>As above, these classes are often abbreviated as <code class="docutils literal"><span class="pre">SToolBar</span></code> and <code class="docutils literal"><span class="pre">SGroup</span></code>,
respectively. Let us now add a tool bar with buttons for opening and saving
files to our script editing task:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyface.api</span> <span class="k">import</span> <span class="n">ImageResource</span>
<span class="kn">from</span> <span class="nn">pyface.tasks.action.api</span> <span class="k">import</span> <span class="n">SToolBar</span><span class="p">,</span> <span class="n">TaskAction</span>

<span class="k">class</span> <span class="nc">ExampleTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>

    <span class="p">[</span> <span class="o">...</span> <span class="p">]</span>

    <span class="n">tool_bars</span> <span class="o">=</span> <span class="p">[</span> <span class="n">SToolBar</span><span class="p">(</span><span class="n">TaskAction</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;open&#39;</span><span class="p">,</span>
                                      <span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;Open a file&#39;</span><span class="p">,</span>
                                      <span class="n">image</span><span class="o">=</span><span class="n">ImageResource</span><span class="p">(</span><span class="s1">&#39;document_open&#39;</span><span class="p">)),</span>
                           <span class="n">TaskAction</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;save&#39;</span><span class="p">,</span>
                                      <span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;Save the current file&#39;</span><span class="p">,</span>
                                      <span class="n">image</span><span class="o">=</span><span class="n">ImageResource</span><span class="p">(</span><span class="s1">&#39;document_save&#39;</span><span class="p">)))</span> <span class="p">]</span>
</pre></div>
</div>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>The most convenient reference in this case is the <a class="reference external" href="https://github.com/enthought/traitsgui/blob/master/enthought/pyface/action/action.py">source code</a> itself.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/e-logo-rev.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Menus and Tool Bars</a><ul>
<li><a class="reference internal" href="#defining-a-menu-bar">Defining a Menu Bar</a></li>
<li><a class="reference internal" href="#defining-a-tool-bar">Defining a Tool Bar</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Tasks User Manual</a><ul>
      <li>Previous: <a href="layout.html" title="previous chapter">Window Layout</a></li>
      <li>Next: <a href="extensibility.html" title="next chapter">Extensibility</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tasks_user_manual/menus.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2008-2011, Enthought.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../_sources/tasks_user_manual/menus.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>